<html lang="en-GB">
  <head>
    <meta charset="utf-8">
    <!-- Built with 11ty - 2023-02-21 13:58 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="King's Digital Lab, King's College London">
    <meta name="description" content="">
    
    <meta property="og:image" content="https://bcc.kdl.kcl.ac.uk/assets/img/logos/KCL-square.svg">
    <meta property="og:description" content="">
    <meta property="og:title" content="Stories Introduction">


    <title>Stories Introduction | BCC - Treatied Spaces</title>

    <link rel="stylesheet" href="/bcc-11ty/assets/css/style.css?ts=1676987920">
    <link rel="stylesheet" href="/bcc-11ty/assets/node_modules/leaflet/dist/leaflet.css"  />
    <script src="/bcc-11ty/assets/js/navbar-toggle.js?ts=1676987920"></script>
  </head>
  <body class="type-page slug-stories">
    <header>

<a id="sitetitle" href="/">Movement and Common World in Early America</a>
<nav>
  <div id="menu">
    <input id="legend" type="checkbox"/>
    <label class="legend" role="button" for="legend">Menu</label>
    <ol>
      <li> <a href="#overview">Overview</a></li>
      <li> <a href="#stories">Stories  </a>
        <ol>
          <li><a href="#s-intro">Introduction</a></li>
          <li><a href="#s-1">Homelands</a></li>
          <li><a href="#s-2">Villagers, Settlers</a></li>
          <li><a href="#s-3">Pathways</a></li>
          <li><a href="#s-4">Borders</a></li>
        </ol>
      </li>
      <li> <a href="#filters">Filters </a></li>
      <li> <a href="#about">About</a></li>
      <li> <a href="#team">Team</a></li>
      <li> <a href="#mappage">Maps</a></li>
      <li> <a href="#resources">Resources</a></li>
    </ol>
    <!--            
      <ul>
          
          <li class="is-active">
            <a href="/bcc-11ty/">Home</a>
          </li>
          
          <li class="">
            <a href="/bcc-11ty/about/">About</a>
          </li>
          
          <li class="is-active">
            <a href="/bcc-11ty/stories/">Stories</a>
          </li>
          
      </ul>-->
  </div>
</nav>
</header>


    
<div id="basemap"></div>
<div class="mapOverlay">
    <nav>
        <ol>
            <li><a href="#overview">Overview</a></li>
            <li id="stories"><a href="#stories">Stories </a>
                <ol>
                    <li><a href="#s-intro">Introduction</a></li>
                    <li><a href="#s-1">Homelands</a></li>
                    <li><a href="#s-2">Villagers, Settlers</a></li>
                    <li><a href="#s-3">Pathways</a></li>
                    <li><a href="#s-4">Borders</a></li>
                </ol>
            </li>
            <li><a href="#filters">Filters </a></li>
        </ol>
    </nav>
    <section id="overview">
        <h1><a href="overview">Overview</a></h1>
        <article>
            <p>Lorem ipsum dolor sit amet. Qui labore dolores qui dolores aperiam aut nihil tenetur qui cumque ipsa qui
                possimus neque et tenetur velit eos quisquam expedita. Et maxime voluptatum eum laudantium officiis eos
                nihil quae et sint inventore qui voluptatum consequatur? Sed consequuntur quia non accusamus
                perspiciatis qui deserunt porro.</p>
        </article>
        <article>
            <p>At dolor distinctio aut omnis beatae ut numquam omnis qui voluptatem iure. Sit minus similique eum
                internos modi a velit eaque et fugiat aliquid ut iste quia qui accusantium tempora in harum sunt. Non
                repellat consequatur qui nostrum excepturi et earum error. Qui obcaecati dolor in quae voluptas quo
                voluptas distinctio sit delectus assumenda non sint autem.</p>
            <p>Ut voluptatem quae qui reprehenderit rerum eos numquam saepe sit exercitationem animi sit repellat dicta.
                Ut error voluptatem qui eveniet quibusdam eos unde assumenda aut dolor accusantium est iure aliquam eos
                eligendi expedita aut minima voluptatem.</p>
        </article>
    </section>
    <section id="stories">
        <h1><a href="stories">Stories</a></h1>
        <div id="s-intro"></div>
        <h2><a href="../">Introduction</a></h2>
        <article id="slide_2" data-slideId="2"><p>Maps of early America do not tell the whole truth. While they frequently include scales and lines of latitude, their aim
was not geographical accuracy. For the British – the makers of the bulk of the maps used here – the aim was to
demonstrate actual and claimed possession of territory in North-eastern North America. In the process, mapmakers
captured information that reveal some of the deeper dynamics of the natural and human spaces of the known Continent. In
this map, we seek to bring these stories into greater relief, by illustrating the common worlds of early America.</p>
</article>
<article id="slide_3" data-slideId="3"><p>Indigenous peoples are a constant presence in British maps. When mapmakers portrayed colonial possessions, they were in
fact drawing a coastal, interior, and Continental landscape of the homelands of Indigenous nations, who remained in
control of the majority of North American land and resources in 1780. While they drew colourful boundaries around
British colonies and imposed Anglophone names over wide expanses of paper and land, settlement was fragmented, small
scale, and confined to a narrow strip of the Atlantic coast. Given the relative imbalance of power, colonists tended to
resort to violence to defend claims to land, and war with neighbouring Indigenous nations was endemic. However, this
does not mean that the Northeast was defined by two separate and antagonistic worlds.</p>
</article>
<article id="slide_4" data-slideId="4"><p>While the common worlds of Indigenous and British peoples were occasionally pushed apart by violence, they were also
drawn together by pathways of connection, movement, diplomacy, alliance, and exchange. This model of inter-cultural
relationship has been called a ‘middle ground’, and it existed in tension with a colonial impulse to establish and
defend hard borders and boundaries, lines that demarcated exclusive territorial claims and excluded ‘outsiders’.</p>
</article>

        <h2 id="s-1">Homelands</h2>
        <article id="slide_5" data-slideId="5"><p>American history is Indigenous history. It begins with the deep history of the land and its peoples as they existed long
before the arrival of Europeans. The first parties of English – most of them professional soldiers – made coastal
landings and probed the dozens of rivers that led inland. They claimed possession of these spaces according to legal
arguments that gave ownership of empty land to whomever discovered and occupied it. But they soon discovered that the
land was not empty. The Indigenous name of the place they called ‘Virginia’ is Tsenacommacah: the densely inhabited
land.</p>
<p><img src="../assets/img/stories/story1_1.png" alt="Virginia"></p>
</article>
<article id="slide_6" data-slideId="6"><p>The Indigenous landscape was more than a homeland: it was a site of creation. For the coastal Algonquian it was the
Dawnland, for the Haudenosaunee it was Turtle Island – the place where everything had its beginning and its being. The
land was a cultural and moral space, infused with fundamental beliefs, and overlayered with stories that were enacted,
remembered, and shared among kin and with Europeans. The land was political. Haudenosaunee oral tradition drew the land
and its history together in the story of the formation of the Great League of Peace, and where Deganawidah taught
Hiawatha the rituals of the condolence ceremony. As the Onondaga diplomat Canasatego declared at a treaty council in
1744, ‘our Ancestors came out of this very Ground, and their Children have remained here ever since’.</p>
</article>
<article id="slide_7" data-slideId="7"><p>Indigenous peoples were map-makers, but these maps were carried in the mind and then sketched with charcoal on hide or
bark, or drawn with a stick on soft soil; at other times they were gestural, using the hand as an approximation of a
region and its key points of settlement. Europeans copied these maps, which allow us to glimpse the ways in which
Indigenous communities saw themselves in relation to Europeans. The famous Catawba deerskin map portrayed two
contrasting ways of being on the land: the villages and towns of the Catawba are represented as a network of circles
connected by paths, while the colonial city of Charlestown is rendered as a grid system of streets. The relative size of
circles (a sacred shape in Indigenous culture) denotes the importance and power of each nation; the paths linking them
represent connections of kinship, trade and alliance.</p>
</article>
<article id="slide_8" data-slideId="8"><p>Haudenosaunee translates as the ‘whole house’, and their homelands were conceived as a metaphorical Longhouse with
‘doors’ facing east and west. The Seneca guarded the western door and the Mohawk the eastern one that faced toward the
British. Between them were the Cayuga, Onondaga and the Oneida. The longhouse and its nations are represented on the
Hiawatha Belt representation of the Confederacy gathered together under the Great Law of Peace, and a graphic depiction
of the actual position of the homeland of each nation in relation to the others. The central image of a white pine
symbolises the tree of peace around which the nations are gather, and the location of the central council fire at
Onondaga.</p>
</article>
<article id="slide_9" data-slideId="9"><p>British mapmakers took care in noting the positions of each nation and territorial extent of the Confederacy as a whole. In John Mitchell’s map of the British and French territories in North America, the label ‘Six Nations or Iroquois’ cuts across Virginia, Pennsylvania, New York, and north of the Great Lakes. Mitchell also identified the Haudenosaunee’s much smaller original homeland Irocoisia, centred on Lake Champlain.</p>
</article>
<article id="slide_10" data-slideId="10"><p>Yet this was not a wholly peaceful landscape: in the early seventeenth century the Haudenosaunee carried out campaigns against neighbouring nations, seeking captives and access to new hunting lands. In 1657, a missionary observed that the Iroquois homelands contained ‘more foreigners than natives of the country’. For the British, the Haudenosaunee were like themselves: an expanding commercial and military power that brought other nations under their control and, as allies of the Crown, into Britain’s imperial network. This myth of ‘Iroquois empire’ was used by the British to bolster their own power in interior spaces where Indigenous nations were fully sovereign.</p>
</article>

        <h2>Pathways</h2>
        <article id="s-3">
            <p>At dolor distinctio aut omnis beatae ut numquam omnis qui voluptatem iure. Sit minus similique eum
                internos modi a velit eaque et fugiat aliquid ut iste quia qui accusantium tempora in harum sunt. Non
                repellat consequatur qui nostrum excepturi et earum error. Qui obcaecati dolor in quae voluptas quo
                voluptas distinctio sit delectus assumenda non sint autem.</p>
            <figure><img src="https://upload.wikimedia.org/wikipedia/commons/3/30/Janssen_%26_schmilinsky2.jpg"
                         alt="Detail of map"/>
                <figcaption>Close up of the Jassen map, Hamburg and Altona, Germany, 1910. Image credits: <a
                            href="https://commons.wikimedia.org/wiki/File:Janssen_%26_schmilinsky2.jpg">Wikimedia. </a>
                </figcaption>
            </figure>
        </article>
        <article>
            <p>Ut voluptatem quae qui reprehenderit rerum eos numquam saepe sit exercitationem animi sit repellat dicta.
                Ut error voluptatem qui eveniet quibusdam eos unde assumenda aut dolor accusantium est iure aliquam eos
                eligendi expedita aut minima voluptatem.</p>
        </article>
        <h2>Borders</h2>
        <article id="s-4">
            <p>At dolor distinctio aut omnis beatae ut numquam omnis qui voluptatem iure. Sit minus similique eum
                internos modi a velit eaque et fugiat aliquid ut iste quia qui accusantium tempora in harum sunt. Non
                repellat consequatur qui nostrum excepturi et earum error. Qui obcaecati dolor in quae voluptas quo
                voluptas distinctio sit delectus assumenda non sint autem.</p>
            <figure><img src="https://upload.wikimedia.org/wikipedia/commons/3/30/Janssen_%26_schmilinsky2.jpg"
                         alt="Detail of map"/>
                <figcaption>Close up of the Jassen map, Hamburg and Altona, Germany, 1910. Image credits: <a
                            href="https://commons.wikimedia.org/wiki/File:Janssen_%26_schmilinsky2.jpg">Wikimedia. </a>
                </figcaption>
            </figure>
        </article>
        <article>
            <p>Ut voluptatem quae qui reprehenderit rerum eos numquam saepe sit exercitationem animi sit repellat dicta.
                Ut error voluptatem qui eveniet quibusdam eos unde assumenda aut dolor accusantium est iure aliquam eos
                eligendi expedita aut minima voluptatem.</p>
        </article>
    </section>
    <section id="filters">
        <h1><a href="filter">Filters</a></h1>
        <article>
            <p>Lorem ipsum dolor sit amet. Qui labore dolores qui dolores aperiam aut nihil tenetur qui cumque ipsa qui
                possimus neque et tenetur velit eos quisquam expedita. Et maxime voluptatum eum laudantium officiis eos
                nihil quae et sint inventore qui voluptatum consequatur? Sed consequuntur quia non accusamus
                perspiciatis qui deserunt porro.</p>
        </article>
    </section>
</div>


<script type="text/javascript" src="/bcc-11ty/assets/node_modules/leaflet/dist/leaflet.js"></script>

<script>

    class StoryMap {
        constructor(L, storyUris) {
            this.overlay = null;
            this.L = L;
            // Data parameters
            this.storyUris = storyUris
            this.map = null;

            this.layerGroups = {};

            this.storyFrames = [];

            // Map parameters
            this.mapMinZoom = 1;
            this.mapMaxZoom = 11;

            this.slideElementTagName = 'article';
            this.topSlideElement = null;

            // Styles for Features
            // fillColor: '#ff7800', fill: true
            this.highlightLineStyle = {
                stroke: true,
                color: '#0000ff',
                weight: 5,
                opacity: 0.6
            };

            // color: 'rgba(0,0,0,0)',
            this.defaultLineStyle = {
                stroke: true,
                color: '#0000ff',
                weight: 5,

                fill: false
            };

            // Slides for map features with include
            // rules, features, and frame
            this.slides = {};

            // <article elements> on page
            this.slideElements = {};

            this.allFeatures = [];
            this.allFeaturesLayer = null;


        }

        async loadShapeFile(shape_url) {
            let response = await fetch(shape_url);
            return await response.json();
        }


        /**
         * Load all shape files asynchronously
         */
        async loadShapes(shape_urls) {
            let shapePromises = [];
            let shapeGeoJSON = [];
            let storyFeatures = [];

            let shapeLayer = {};
            for (let u = 0; u < shape_urls.length; u++) {
                shapePromises.push(this.loadShapeFile(shape_urls[u]));
            }
            await Promise.all(shapePromises).then((values) => {

                for (let v = 0; v < values.length; v++) {
                    shapeGeoJSON.push(...values[v].features);
                }
            });
            let unlinkedShapes = [];

            // Arrange into stories and default layer
            for (let s = 0; s < shapeGeoJSON.length; s++) {
                let feature = shapeGeoJSON[s];
                if (feature.properties) {
                    // add to all features
                    this.allFeatures.push(feature);
                    if (feature.properties.story_link === story_id) {
                        storyFeatures.push(feature);
                    }
                    if (feature.properties.frame_link) {
                    }
                    /*let frame_link = feature.properties.frame_link;
                                        if (shapesByFrameLink[frame_link]) {
                                            shapesByFrameLink[frame_link].push(feature);
                                        } else {
                                            shapesByFrameLink[frame_link] = [feature]
                                        }*/
                }
            }

            return storyFeatures;
        }

        async loadSlides() {
            if (this.storyUris && this.storyUris.slides) {
                let storySlides = await this.loadShapeFile(this.storyUris.slides);
                this.slides = storySlides.slides;
            }
        }

        getSlideById(slideid) {
            for (let s = 0; s < this.slides.length; s++) {
                if (this.slides[s].id == slideid) {
                    return this.slides[s];
                }
            }
        }

        initStoryFeatureLayers() {

            for (let s = 0; s < this.slides.length; s++) {
                let slide = this.slides[s];
                slide.layer = L.geoJSON(
                    slide.features, {
                        style: this.defaultLineStyle,
                        onEachFeature: this.onEachFeature.bind(this)
                    });

            }
        }

        initAllFeaturesLayer() {

            this.allFeaturesLayer = L.geoJSON(
                    this.allFeatures, {
                        style: this.defaultLineStyle,
                        onEachFeature: this.onEachFeature.bind(this)
                    });
        }

        /**
         * Get all the slide html elements and sort them by their offset top
         * So we can track user scrolling and trigger map events
         */
        getSlideElements() {
            this.slideElements = Array.from(document.getElementsByTagName(this.slideElementTagName));
            this.slideElements.sort(function (a, b) {
                if (a.offsetTop < 0) {
                    return 1;
                }
                if (b.offsetTop < 0) {
                    return -1;
                }
                return a.offsetTop - b.offsetTop;
            });

        }

        /**
         * Fly the map to the slide's storyframe
         * clear existing layers
         * add this slide's layer
         *
         * @param slideid slide to display
         */
        triggerSlideMapEvents(slideid) {
            let slide = this.getSlideById(slideid);
            if (slide) {
                if (slide.layer) {
                    this.storyFeatureLayerGroup.clearLayers();
                    this.storyFeatureLayerGroup.addLayer(slide.layer);
                }
                let bounds = this.map.flyToBounds(this.getStoryFrameBounds(slide.fid));
                if (bounds != null){
                    this.map.flyToBounds(this.getStoryFrameBounds(slide.fid));
                }

            }

        }

        async initMap() {

            this.map = L.map(
                'basemap',
                {scrollWheelZoom: false}
            );
            this.overlay = L.tileLayer('https://cawm.lib.uiowa.edu/tiles/{z}/{x}/{y}.png', {
                minZoom: this.mapMinZoom,
                maxZoom: this.mapMaxZoom,
                opacity: 1
            }).addTo(this.map);
            // Initial view
            // This could be changed based on get string etc.
            this.map.setView([
                42.562414488766805, -73.10852050781251
            ], 7);

            this.storyFeatureLayerGroup = L.layerGroup().addTo(this.map);

            await this.loadSlides();
            await this.loadStoryFrames();
            await this.loadFeatures();
            this.initStoryFeatureLayers();
            this.initAllFeaturesLayer();
            
            this.getSlideElements();
            let observer = new IntersectionObserver(function (entries) {
                //console.log(entries[0].target.dataset.slideid);
                if (entries[0].isIntersecting === true)
                    this.triggerSlideMapEvents(entries[0].target.dataset.slideid);
            }.bind(this), {threshold: [1]});

            // Add for temporary debugging, will be used for filter
            this.storyFeatureLayerGroup.addLayer(this.allFeaturesLayer);
            for (let s = 0; s < this.slideElements.length; s++) {
                observer.observe(this.slideElements[s]);
            }

            /*document.addEventListener(
                "scroll", this.triggerSlideEvents.bind(this),
            );*/

        }

        onEachFeature(feature, layer) {
            // does this feature have a property named popupContent?
            if (feature.properties && (feature.properties.map_text || feature.properties.norm_text)) {
                if (feature.properties.map_text) {
                    layer.bindPopup(feature.properties.map_text);
                } else {
                    layer.bindPopup(feature.properties.norm_text);
                }
            }
        }


        getStoryFrameBounds(fid) {
            for (let f = 0; f < this.storyFrames.length; f++) {
                if (this.storyFrames[f].FID == fid) {
                    return this.storyFrames[f].bounds;
                }
            }
            return null;
        }

        /**
         * Load the story frame objects from json, convert the feature to bounds and
         * store to be added to slides later
         * @returns {Promise<void>}
         */
        async loadStoryFrames() {
            if (this.storyUris && this.storyUris.storyFrame) {
                let storyFrames = await this.loadShapeFile(this.storyUris.storyFrame); // loadShapes([this.storyFrame_uri]);

                for (let s = 0; s < storyFrames.features.length; s++) {
                    let feature = storyFrames.features[s];
                    let bounds = L.geoJson(feature.geometry).getBounds();
                    this.storyFrames.push({
                        FID: feature.properties.FID, feature: feature,
                        bounds: bounds
                    });
                }
            }

        }

        /** Load separate feature files and assign to slides
         *
         * @returns {Promise<void>}
         */
        async loadFeatures() {
            if (this.storyUris && this.storyUris.lines) {
                // console.log(storyFeatures);
                let storyFeatures = await this.loadShapes([this.storyUris.lines]);
                for (let f = 0; f < storyFeatures.length; f++) {
                    this.addFeatureToSlideGroups("LINE", storyFeatures[f]);
                }

                storyFeatures = await this.loadShapes([this.storyUris.points]);
                for (let f = 0; f < storyFeatures.length; f++) {
                    this.addFeatureToSlideGroups("POINT", storyFeatures[f]);
                }

                storyFeatures = await this.loadShapes([this.storyUris.polys]);
                for (let f = 0; f < storyFeatures.length; f++) {
                    this.addFeatureToSlideGroups("POLY", storyFeatures[f]);
                }

                storyFeatures = await this.loadShapeFile([this.storyUris.indigenous]);

                for (let f = 0; f < storyFeatures.features.length; f++) {

                    this.addFeatureToSlideGroups("INDIGENOUS", storyFeatures.features[f]);
                }

            }

        };


        filterFeature(feature, filters) {
            let result = false;
            for (const [field, includeValues] of Object.entries(filters)) {
                // If they match ALL include rules, set to include
                if (
                    field in feature.properties && includeValues.includes(feature.properties[field])
                ) {
                    //console.log(field + " : "+feature.properties[field]+" :: "+includeValues);
                    result = true;
                } else {
                    result = false;
                    break;
                }
            }
            return result;
        }

        /**
         * Add the feature to as many slide groups
         * as pass the conditions in slideRules.
         *
         * @param featureType point, poly, line
         * @param feature the feature to assign
         */
        addFeatureToSlideGroups(featureType, feature) {
            for (let s = 0; s < this.slides.length; s++) {
                // Foreach slide rule
                let slide = this.slides[s];
                let includeFeature = false;
                switch (featureType) {
                    case "LINE":
                        if (slide.lines) {
                            if (slide.lines.includes) {
                                includeFeature = this.filterFeature(feature, slide.lines.includes);

                            }
                            if (slide.lines.excludes && includeFeature === true) {
                                includeFeature = !this.filterFeature(feature, slide.lines.excludes);
                            }
                        }
                        break;

                    case "POLY":
                        if (slide.polys){
                            if (slide.polys.includes) {
                                includeFeature = this.filterFeature(feature, slide.polys.includes);
                            }
                            if (slide.polys.excludes && includeFeature === true) {
                                includeFeature = !this.filterFeature(feature, slide.polys.excludes);
                            }
                        }
                        break;
                    case "POINT":
                        if (slide.points) {
                            if (slide.points.includes) {
                                includeFeature = this.filterFeature(feature, slide.points.includes);
                            }
                            if (slide.points.excludes && includeFeature === true) {
                                includeFeature = !this.filterFeature(feature, slide.points.excludes);
                                /*for (const [field, value] of Object.entries(feature.properties)) {
                                    if (
                                        field in slide.points.excludes &&
                                        slide.points.excludes[field].includes(value)
                                    ) {
                                        includeFeature = false;
                                        break;
                                    }
                                }*/
                            }
                        }
                        break;
                    case "INDIGENOUS":
                        if (slide.indigenous) {
                            includeFeature = this.filterFeature(feature, slide.indigenous.includes);
                        }
                        break
                    default:
                        break;
                }
                if (includeFeature) {
                    slide.features.push(feature);
                }
            }
        }

    }

    /*



        ,

     */
    let geojson_uri = [];
    let shapeLayers = null;
    let shapesByFrameLink = {};
    let story_id = 1;

    storyMap = new StoryMap(L,
        {
            storyFrame: "/bcc-11ty/assets/json/BCC_storyframe.json",
            slides: "/bcc-11ty/assets/json/BCC_slides.json",
            lines: "/bcc-11ty/assets/json/BCC_lines.json",
            points: "/bcc-11ty/assets/json/BCC_points.json",
            polys: "/bcc-11ty/assets/json/BCC_polys.json",
            indigenous: "/bcc-11ty/assets/json/indigenous_territories.json"
        }
    );
    storyMap.initMap();

</script>

    <footer class="footer">
  <div class="has-text-centered">
    <h2 class="small-heading">Partners and Funders</h2>
    <div class="gallery-by-4 logos">
      <a href="//www.ukri.org/about-us/ahrc/">
        <img
          src="/bcc-11ty/assets/img/logos/UKRI_AHR_Council-Logo_Square-RGB.png"
          alt="Arts and Humanities Council (AHRC)"
          width="50"
          height="50"
        />
      </a>

      <a href="//kdl.kcl.ac.uk/">
        <img
          src="/bcc-11ty/assets/img/logos/KCL-square.svg"
          alt="King's Digital Lab, King's College London"
          width="50"
          height="50"
        />
      </a>
    </div>
    <p>
      <a href="/accessibility/">Accessibility Statement</a> |
      <a href="/credits/">Credits &amp; Acknowledgements</a>
    </p>
    <p class="small">
      Designed, developed and maintained by <a href="//kdl.kcl.ac.uk/">KDL</a>.
    </p>
  </div>
</footer>

  </body>
  <script>
//*** Active class on menu when in section ***//
// Get all sections that have an ID defined
const sections = document.querySelectorAll("[id]");

// Add an event listener listening for scroll
window.addEventListener("scroll", navHighlighter);

function navHighlighter() {
  // Get current scroll position
  let scrollY = window.pageYOffset;

  // Now we loop through sections to get height, top and ID values for each
  sections.forEach((current) => {
    const sectionHeight = current.offsetHeight;
    const sectionTop = current.offsetTop - 150;
    sectionId = current.getAttribute("id");

    /*
    - If our current scroll position enters the space where current section on screen is, add .active class to corresponding navigation link, else remove it
    - To know which link needs an active class, we use sectionId variable we are getting while looping through sections as an selector
    */
    if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
      document
        .querySelectorAll("ol a[href*=" + sectionId + "]")
        .forEach((el) => el.classList.add("active"));
    } else { 
      document //*** END Active class on menu when in section ***//
        .querySelectorAll("ol a[href*=" + sectionId + "]")
        .forEach((el) => el.classList.remove("active"));
    }
  });
}


  </script>
</html>
